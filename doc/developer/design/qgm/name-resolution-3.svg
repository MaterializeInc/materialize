<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: G Pages: 1 -->
<svg width="778pt" height="798pt"
 viewBox="0.00 0.00 778.00 797.98" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 793.98)">
<title>G</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-793.98 774,-793.98 774,4 -4,4"/>
<text text-anchor="middle" x="326.5" y="-7.8" font-family="Times,serif" font-size="14.00">select * from t1, t2 left join (select t3.f1 as y from t3, t4) as x on f1 = y; (before rewrites)</text>
<g id="clust1" class="cluster">
<title>cluster0</title>
<polygon fill="none" stroke="black" points="274,-557.98 274,-781.98 676,-781.98 676,-557.98 274,-557.98"/>
<text text-anchor="middle" x="324.5" y="-766.78" font-family="Times,serif" font-size="14.00">Box0:Select</text>
</g>
<g id="clust3" class="cluster">
<title>cluster2</title>
<polygon fill="none" stroke="black" points="178,-369.99 178,-538.98 750,-538.98 750,-369.99 178,-369.99"/>
<text text-anchor="middle" x="240.5" y="-523.78" font-family="Times,serif" font-size="14.00">Box2:OuterJoin</text>
</g>
<g id="clust5" class="cluster">
<title>cluster4</title>
<polygon fill="none" stroke="black" points="304,-182 304,-350.99 762,-350.99 762,-182 304,-182"/>
<text text-anchor="middle" x="354.5" y="-335.79" font-family="Times,serif" font-size="14.00">Box4:Select</text>
</g>
<g id="clust7" class="cluster">
<title>cluster6</title>
<polygon fill="none" stroke="black" points="450,-31 450,-163 612,-163 612,-31 450,-31"/>
<text text-anchor="middle" x="526" y="-147.8" font-family="Times,serif" font-size="14.00">Box6:BaseTable T4</text>
</g>
<g id="clust9" class="cluster">
<title>cluster5</title>
<polygon fill="none" stroke="black" points="280,-31 280,-163 442,-163 442,-31 280,-31"/>
<text text-anchor="middle" x="356" y="-147.8" font-family="Times,serif" font-size="14.00">Box5:BaseTable T3</text>
</g>
<g id="clust11" class="cluster">
<title>cluster3</title>
<polygon fill="none" stroke="black" points="134,-200.49 134,-332.49 296,-332.49 296,-200.49 134,-200.49"/>
<text text-anchor="middle" x="210" y="-317.29" font-family="Times,serif" font-size="14.00">Box3:BaseTable T2</text>
</g>
<g id="clust13" class="cluster">
<title>cluster1</title>
<polygon fill="none" stroke="black" points="8,-388.48 8,-520.48 170,-520.48 170,-388.48 8,-388.48"/>
<text text-anchor="middle" x="84" y="-505.28" font-family="Times,serif" font-size="14.00">Box1:BaseTable T1</text>
</g>
<!-- boxhead0 -->
<g id="node1" class="node">
<title>boxhead0</title>
<polygon fill="none" stroke="black" points="522,-566.48 522,-750.48 668,-750.48 668,-566.48 522,-566.48"/>
<text text-anchor="middle" x="595" y="-735.28" font-family="Times,serif" font-size="14.00">Distinct: Preserve</text>
<polyline fill="none" stroke="black" points="522,-727.48 668,-727.48 "/>
<text text-anchor="middle" x="595" y="-712.28" font-family="Times,serif" font-size="14.00">0: Q0.c0 as F1</text>
<polyline fill="none" stroke="black" points="522,-704.48 668,-704.48 "/>
<text text-anchor="middle" x="595" y="-689.28" font-family="Times,serif" font-size="14.00">1: Q0.c1 as F2</text>
<polyline fill="none" stroke="black" points="522,-681.48 668,-681.48 "/>
<text text-anchor="middle" x="595" y="-666.28" font-family="Times,serif" font-size="14.00">2: Q0.c2 as F3</text>
<polyline fill="none" stroke="black" points="522,-658.48 668,-658.48 "/>
<text text-anchor="middle" x="595" y="-643.28" font-family="Times,serif" font-size="14.00">3: Q5.c0 as F1</text>
<polyline fill="none" stroke="black" points="522,-635.48 668,-635.48 "/>
<text text-anchor="middle" x="595" y="-620.28" font-family="Times,serif" font-size="14.00">4: Q5.c1 as F2</text>
<polyline fill="none" stroke="black" points="522,-612.48 668,-612.48 "/>
<text text-anchor="middle" x="595" y="-597.28" font-family="Times,serif" font-size="14.00">5: Q5.c2 as F3</text>
<polyline fill="none" stroke="black" points="522,-589.48 668,-589.48 "/>
<text text-anchor="middle" x="595" y="-574.28" font-family="Times,serif" font-size="14.00">6: Q5.c3 as Y</text>
</g>
<!-- Q0 -->
<g id="node2" class="node">
<title>Q0</title>
<ellipse fill="none" stroke="black" cx="347" cy="-658.48" rx="64.99" ry="64.99"/>
<text text-anchor="middle" x="347" y="-654.78" font-family="Times,serif" font-size="14.00">Q0(F) as T1</text>
</g>
<!-- boxhead1 -->
<g id="node13" class="node">
<title>boxhead1</title>
<polygon fill="none" stroke="black" points="16,-396.98 16,-488.98 162,-488.98 162,-396.98 16,-396.98"/>
<text text-anchor="middle" x="89" y="-473.78" font-family="Times,serif" font-size="14.00">Distinct: Preserve</text>
<polyline fill="none" stroke="black" points="16,-465.98 162,-465.98 "/>
<text text-anchor="middle" x="89" y="-450.78" font-family="Times,serif" font-size="14.00">0: c0 as F1</text>
<polyline fill="none" stroke="black" points="16,-442.98 162,-442.98 "/>
<text text-anchor="middle" x="89" y="-427.78" font-family="Times,serif" font-size="14.00">1: c1 as F2</text>
<polyline fill="none" stroke="black" points="16,-419.98 162,-419.98 "/>
<text text-anchor="middle" x="89" y="-404.78" font-family="Times,serif" font-size="14.00">2: c2 as F3</text>
</g>
<!-- Q0&#45;&gt;boxhead1 -->
<g id="edge2" class="edge">
<title>Q0&#45;&gt;boxhead1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M291.55,-624.32C256.33,-602.13 210.65,-571.17 174,-538.98 167.42,-533.2 160.84,-526.94 154.43,-520.48"/>
</g>
<!-- Q5 -->
<g id="node3" class="node">
<title>Q5</title>
<ellipse fill="none" stroke="black" cx="467" cy="-658.48" rx="37.09" ry="37.09"/>
<text text-anchor="middle" x="467" y="-654.78" font-family="Times,serif" font-size="14.00">Q5(F)</text>
</g>
<!-- boxhead2 -->
<g id="node4" class="node">
<title>boxhead2</title>
<polygon fill="none" stroke="black" points="596,-385.48 596,-500.48 742,-500.48 742,-385.48 596,-385.48"/>
<text text-anchor="middle" x="669" y="-485.28" font-family="Times,serif" font-size="14.00">Distinct: Preserve</text>
<polyline fill="none" stroke="black" points="596,-477.48 742,-477.48 "/>
<text text-anchor="middle" x="669" y="-462.28" font-family="Times,serif" font-size="14.00">0: Q1.c0 as F1</text>
<polyline fill="none" stroke="black" points="596,-454.48 742,-454.48 "/>
<text text-anchor="middle" x="669" y="-439.28" font-family="Times,serif" font-size="14.00">1: Q1.c1 as F2</text>
<polyline fill="none" stroke="black" points="596,-431.48 742,-431.48 "/>
<text text-anchor="middle" x="669" y="-416.28" font-family="Times,serif" font-size="14.00">2: Q1.c2 as F3</text>
<polyline fill="none" stroke="black" points="596,-408.48 742,-408.48 "/>
<text text-anchor="middle" x="669" y="-393.28" font-family="Times,serif" font-size="14.00">3: Q4.c0 as Y</text>
</g>
<!-- Q5&#45;&gt;boxhead2 -->
<g id="edge3" class="edge">
<title>Q5&#45;&gt;boxhead2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M475.18,-621.86C481.9,-600.4 493.55,-574.18 513,-557.98 539.09,-536.24 558.14,-556.87 587,-538.98"/>
</g>
<!-- Q1 -->
<g id="node5" class="node">
<title>Q1</title>
<ellipse fill="none" stroke="black" cx="251" cy="-442.98" rx="64.99" ry="64.99"/>
<text text-anchor="middle" x="251" y="-439.28" font-family="Times,serif" font-size="14.00">Q1(P) as T2</text>
</g>
<!-- Q4 -->
<g id="node6" class="node">
<title>Q4</title>
<ellipse fill="none" stroke="black" cx="518" cy="-442.98" rx="59.59" ry="59.59"/>
<text text-anchor="middle" x="518" y="-439.28" font-family="Times,serif" font-size="14.00">Q4(F) as X</text>
</g>
<!-- Q1&#45;&gt;Q4 -->
<g id="edge1" class="edge">
<title>Q1&#45;&gt;Q4</title>
<path fill="none" stroke="black" d="M316.32,-442.98C359.54,-442.98 415.81,-442.98 457.92,-442.98"/>
<text text-anchor="middle" x="387.1" y="-449.78" font-family="Times,serif" font-size="14.00">(Q1.c0) = (Q4.c0)</text>
</g>
<!-- boxhead3 -->
<g id="node12" class="node">
<title>boxhead3</title>
<polygon fill="none" stroke="black" points="142,-208.99 142,-300.99 288,-300.99 288,-208.99 142,-208.99"/>
<text text-anchor="middle" x="215" y="-285.79" font-family="Times,serif" font-size="14.00">Distinct: Preserve</text>
<polyline fill="none" stroke="black" points="142,-277.99 288,-277.99 "/>
<text text-anchor="middle" x="215" y="-262.79" font-family="Times,serif" font-size="14.00">0: c0 as F1</text>
<polyline fill="none" stroke="black" points="142,-254.99 288,-254.99 "/>
<text text-anchor="middle" x="215" y="-239.79" font-family="Times,serif" font-size="14.00">1: c1 as F2</text>
<polyline fill="none" stroke="black" points="142,-231.99 288,-231.99 "/>
<text text-anchor="middle" x="215" y="-216.79" font-family="Times,serif" font-size="14.00">2: c2 as F3</text>
</g>
<!-- Q1&#45;&gt;boxhead3 -->
<g id="edge4" class="edge">
<title>Q1&#45;&gt;boxhead3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M238.81,-379.02C235.92,-364.07 232.8,-347.97 229.81,-332.49"/>
</g>
<!-- boxhead4 -->
<g id="node7" class="node">
<title>boxhead4</title>
<polygon fill="none" stroke="black" points="608,-231.99 608,-277.99 754,-277.99 754,-231.99 608,-231.99"/>
<text text-anchor="middle" x="681" y="-262.79" font-family="Times,serif" font-size="14.00">Distinct: Preserve</text>
<polyline fill="none" stroke="black" points="608,-254.99 754,-254.99 "/>
<text text-anchor="middle" x="681" y="-239.79" font-family="Times,serif" font-size="14.00">0: Q2.c0 as Y</text>
</g>
<!-- Q4&#45;&gt;boxhead4 -->
<g id="edge5" class="edge">
<title>Q4&#45;&gt;boxhead4</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M557.69,-397.67C570.88,-382.87 585.62,-366.26 599,-350.99"/>
</g>
<!-- Q2 -->
<g id="node8" class="node">
<title>Q2</title>
<ellipse fill="none" stroke="black" cx="377" cy="-254.99" rx="64.99" ry="64.99"/>
<text text-anchor="middle" x="377" y="-251.29" font-family="Times,serif" font-size="14.00">Q2(F) as T3</text>
</g>
<!-- boxhead5 -->
<g id="node11" class="node">
<title>boxhead5</title>
<polygon fill="none" stroke="black" points="288,-39.5 288,-131.5 434,-131.5 434,-39.5 288,-39.5"/>
<text text-anchor="middle" x="361" y="-116.3" font-family="Times,serif" font-size="14.00">Distinct: Preserve</text>
<polyline fill="none" stroke="black" points="288,-108.5 434,-108.5 "/>
<text text-anchor="middle" x="361" y="-93.3" font-family="Times,serif" font-size="14.00">0: c0 as F1</text>
<polyline fill="none" stroke="black" points="288,-85.5 434,-85.5 "/>
<text text-anchor="middle" x="361" y="-70.3" font-family="Times,serif" font-size="14.00">1: c1 as F2</text>
<polyline fill="none" stroke="black" points="288,-62.5 434,-62.5 "/>
<text text-anchor="middle" x="361" y="-47.3" font-family="Times,serif" font-size="14.00">2: c2 as F3</text>
</g>
<!-- Q2&#45;&gt;boxhead5 -->
<g id="edge6" class="edge">
<title>Q2&#45;&gt;boxhead5</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M370.91,-190.19C370.06,-181.3 369.18,-172.09 368.31,-163"/>
</g>
<!-- Q3 -->
<g id="node9" class="node">
<title>Q3</title>
<ellipse fill="none" stroke="black" cx="525" cy="-254.99" rx="64.99" ry="64.99"/>
<text text-anchor="middle" x="525" y="-251.29" font-family="Times,serif" font-size="14.00">Q3(F) as T4</text>
</g>
<!-- boxhead6 -->
<g id="node10" class="node">
<title>boxhead6</title>
<polygon fill="none" stroke="black" points="458,-39.5 458,-131.5 604,-131.5 604,-39.5 458,-39.5"/>
<text text-anchor="middle" x="531" y="-116.3" font-family="Times,serif" font-size="14.00">Distinct: Preserve</text>
<polyline fill="none" stroke="black" points="458,-108.5 604,-108.5 "/>
<text text-anchor="middle" x="531" y="-93.3" font-family="Times,serif" font-size="14.00">0: c0 as F1</text>
<polyline fill="none" stroke="black" points="458,-85.5 604,-85.5 "/>
<text text-anchor="middle" x="531" y="-70.3" font-family="Times,serif" font-size="14.00">1: c1 as F2</text>
<polyline fill="none" stroke="black" points="458,-62.5 604,-62.5 "/>
<text text-anchor="middle" x="531" y="-47.3" font-family="Times,serif" font-size="14.00">2: c2 as F3</text>
</g>
<!-- Q3&#45;&gt;boxhead6 -->
<g id="edge7" class="edge">
<title>Q3&#45;&gt;boxhead6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M527.3,-189.72C527.62,-180.97 527.94,-171.93 528.26,-163"/>
</g>
</g>
</svg>
