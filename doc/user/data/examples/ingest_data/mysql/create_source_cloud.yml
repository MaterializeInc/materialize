- name: "create-source"
  description: |
    Once you have created the connection, you can use the connection in the
    [`CREATE SOURCE`](/sql/create-source/) command to connect to your MySQL instance and start ingesting
    data:
  test_setup: |
    > CREATE SECRET IF NOT EXISTS mysqlpass AS 'p@ssw0rd'
    > CREATE CONNECTION IF NOT EXISTS mysql_connection TO MYSQL (HOST mysql, USER root, PASSWORD SECRET mysqlpass)

    $ mysql-connect name=mysql url=mysql://root@mysql password=p@ssw0rd
    $ mysql-execute name=mysql
    DROP DATABASE IF EXISTS public;
    CREATE DATABASE public;
    USE public;
    CREATE TABLE t (x INT);

  code: |
    CREATE SOURCE mz_source
      FROM MYSQL CONNECTION mysql_connection
      FOR ALL TABLES;

- name: "create-source-options"
  description: |

    - By default, the source will be created in the active cluster; to use a different cluster, use the `IN CLUSTER` clause.

    - To ingest data from specific schemas or tables, use the `FOR SCHEMAS (<schema1>,<schema2>)` or `FOR TABLES (<table1>, <table2>)` options instead of `FOR ALL TABLES`.

    - To handle [unsupported data types](#supported-types), use the `TEXT COLUMNS` or `EXCLUDE COLUMNS` options.

- name: "schema-changes"
  description: |
    After source creation, refer to [schema changes
    considerations](#schema-changes) for information on handling upstream schema changes.
