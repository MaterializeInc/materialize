<div id="helpful">
    <table id="get-feedback">
        <tr>
            <td colspan=2>Did this info help?</td>
        </tr>
        <tr>
            <td>
                <!-- Use 1 for yes, 0 for no, so avg of recorded values is
                page's rating -->
                <a class="helpful-vote"
                    onclick="registerWasHelpful(event, 1)"
                    href=""
                    data-proofer-ignore
                >
                    Yes
                </a>
            </td>
            <td>
                <a class="helpful-vote"
                    onclick="registerWasHelpful(event, 0)"
                    href=""
                    data-proofer-ignore
                >
                    No
                </a>
            </td>
        </tr>
    </table>
    <p id="got-feedback"></p>
</div>

<script>
    function registerWasHelpful(event, val){
        event.preventDefault()

        // Hide feedback input
        document.getElementById("get-feedback").style.display = 'none';

        // Show feedback response
        var got_feedback = document.getElementById("got-feedback");
        if (val == 1) {
            got_feedback.innerHTML = "Thanks for the feedback!"
        } else {
            got_feedback.innerHTML = "If there's anything we can do to help, please <a href=\"https://github.com/MaterializeInc/materialize/issues/new/choose\">file an issue on GitHub</a>"
        }

        got_feedback.style.display = 'block';

        // Send event to GA
        gtag('event', 'docs-helpful', {'event_label': 'was_helpful', 'value': val});
    }
</script>
