# dbt-materialize Changelog

## Unreleased

* Disable transactions. This avoids errors of the form "CREATE ... must be
  executed outside of a transaction block" ([materialize-dbt-utils#11]).

  Materialize's transactions are not powerful enough to support dbt's use cases.
  Disabling transactions follows the precedent set by the dbt-snowflake and
  dbt-bigquery adapters.

* Respect type overrides in the views created by seeds.

[materialize-dbt-utils#11]: https://github.com/MaterializeInc/materialize-dbt-utils/issues/11

## 1.0.1 - 2021-01-03

* Upgrade to `dbt-postgres` v1.0.1.

## 1.0.0 - 2021-12-11

* Upgrade to `dbt-postgres` v1.0.0.

## 0.21.0 - 2021-10-05

* Upgrade to `dbt-postgres` v0.21.0.

## 0.20.2 - 2021-09-08

* Upgrade to `dbt-postgres` v0.20.2.

## 0.20.1.post1 - 2021-08-18

* **Breaking change.** Remove the `mz_create_source`, `mz_drop_source`,
  `mz_create_sink`, `mz_drop_sink`, `mz_create_index`, and `mz_drop_index`
  macros as they caused incorrect behavior in `dbt docs` ([#7810]).

* Add three new custom materialization types: `source`, `index`, and `sink`.
  These replace the aforementioned macros that were removed in this release.

[#7810]: https://github.com/MaterializeInc/materialize/issues/7810

## 0.20.1 - 2021-08-12

* Upgrade to `dbt-postgres` v0.20.1.

## 0.20.0 - 2021-08-06

* Upgrade to `dbt-postgres` v0.20.0.

* Add the `mz_create_index` and `mz_drop_index` macros to manage the creation
  and deletion of indexes.

* Add the `mz_create_sink` and `mz_drop_sink` macros to manage the creation
  and deletion of sinks.

## 0.18.1.post4 - 2021-07-14

* Add the `mz_create_source` and `mz_drop_source` macros to manage the
  creation and deletion of sources, respectively.

## 0.18.1.post3 - 2021-06-17

* Support the `sslcert`, `sslkey`, and `sslrootcert` parameters for
  specifying a TLS client certificate. Notably, this permits using
  dbt-materialize with [Materialize Cloud].

## 0.18.1.post2 - 2021-04-21

* Account for changes in how Materialize v0.7.3+ handles transactions.

## 0.18.1.post1 - 2021-03-17

* Fix a bug in the `get_catalog` macro which could cause column types to be
  incorrectly determined ([#6063]). This most notably caused information about
  model columns to be missing in the documentation generated by `dbt docs`.

[#6063]: https://github.com/MaterializeInc/materialize/issues/6063


## 0.18.1 - 2021-02-25

Initial release.

[Materialize Cloud]: https://cloud.materialize.com
