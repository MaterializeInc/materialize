# Materialize Kubernetes Environmentd Helm Chart

![Version: 0.1.0](https://img.shields.io/badge/Version-0.1.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.1.0](https://img.shields.io/badge/AppVersion-0.1.0-informational?style=flat-square)

Materialize Kubernetes Environmentd Helm Chart

This Helm chart deploys Materialize environments on a Kubernetes cluster. It requires the Materialize operator to be installed first.

## Prerequisites

- Kubernetes 1.19+
- Helm 3.2.0+
- Materialize operator installed in the cluster

## Installing the Chart

To install the chart with the release name `my-materialize-environments`:

```shell
helm install my-materialize-environments materialize/misc/helm-charts/environmentd
```

This command deploys Materialize environments on the Kubernetes cluster with default configuration. The [Parameters](#parameters) section lists the parameters that can be configured during installation.

## Uninstalling the Chart

To uninstall/delete the `my-materialize-environments` deployment:

```shell
helm delete my-materialize-environments
```

This command removes all the Kubernetes components associated with the chart and deletes the release.

## Parameters

The following table lists the configurable parameters of the Materialize environmentd chart and their default values.

| Parameter | Description | Default |
|-----------|-------------|---------|
| `global.operatorNamespace` |  | ``"materialize-system"`` |
| `materializeEnvironments[0].environmentdCpuAllocation` |  | ``"1"`` |
| `materializeEnvironments[0].environmentdExtraArgs[0]` |  | ``"--log-filter=info"`` |
| `materializeEnvironments[0].environmentdImageRef` |  | ``"materialize/environmentd:v0.119.2"`` |
| `materializeEnvironments[0].environmentdMemoryAllocation` |  | ``"1Gi"`` |
| `materializeEnvironments[0].forceRollout` |  | ``"33333333-3333-3333-3333-333333333333"`` |
| `materializeEnvironments[0].inPlaceRollout` |  | ``false`` |
| `materializeEnvironments[0].name` |  | ``"default-environment"`` |
| `materializeEnvironments[0].requestRollout` |  | ``"22222222-2222-2222-2222-222222222222"`` |
| `materializeEnvironments[0].secret.metadataBackendUrl` |  | ``"postgres://user:pass@cockroachdb-public.cockroachdb.svc.cluster.local:26257/db?sslmode=verify-full&sslrootcert_inline=ca_cert"`` |
| `materializeEnvironments[0].secret.name` |  | ``"materialize-backend-12345678-1234-1234-1234-123456789012"`` |
| `materializeEnvironments[0].secret.persistBackendUrl` |  | ``"s3://minio:minio123@bucket/12345678-1234-1234-1234-123456789012?endpoint=http%3A%2F%2Fminio.minio.svc.cluster.local%3A9000&region=minio"`` |
| `namespace.create` |  | ``true`` |
| `namespace.name` |  | ``"materialize-environment"`` |

Specify each parameter using the `--set key=value[,key=value]` argument to `helm install`. For example:

```shell
helm install my-materialize-environments \
  --set materializeEnvironments[0].name=custom-env \
  materialize/materialize-environmentd
```

Alternatively, a YAML file that specifies the values for the parameters can be provided while installing the chart. For example:

```shell
helm install my-materialize-environments -f values.yaml materialize/materialize-environmentd
```

## Configuration and Installation Details

### Multiple Environments

You can define multiple Materialize environments by adding more entries to the `materializeEnvironments` list in your `values.yaml` file or by using the `--set` flag multiple times.

### Resource Allocation

You can specify CPU and memory allocation for each environment using the `environmentdCpuAllocation` and `environmentdMemoryAllocation` parameters.

### Rollout Configuration

Use the `requestRollout`, `forceRollout`, and `inPlaceRollout` parameters to control how updates to your environments are rolled out.

## Troubleshooting

If you encounter issues with Materialize environments, check the environment logs:

```shell
kubectl logs -l app.kubernetes.io/name=materialize-environmentd
```

For more detailed information on using and troubleshooting Materialize environments, refer to the [Materialize documentation](https://materialize.com/docs).

## Learn More

- [Materialize Documentation](https://materialize.com/docs)
- [Materialize GitHub Repository](https://github.com/MaterializeInc/materialize)

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
