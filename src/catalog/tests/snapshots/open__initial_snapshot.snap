---
source: src/catalog/tests/open.rs
assertion_line: 518
expression: test_snapshot
---
Snapshot {
    databases: {
        DatabaseKey {
            id: User(
                1,
            ),
        }: DatabaseValue {
            name: "materialize",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            oid: 20000,
        },
    },
    schemas: {
        SchemaKey {
            id: System(
                1,
            ),
        }: SchemaValue {
            database_id: None,
            name: "mz_catalog",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            oid: 16656,
        },
        SchemaKey {
            id: System(
                2,
            ),
        }: SchemaValue {
            database_id: None,
            name: "pg_catalog",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            oid: 16657,
        },
        SchemaKey {
            id: System(
                4,
            ),
        }: SchemaValue {
            database_id: None,
            name: "mz_internal",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            oid: 16658,
        },
        SchemaKey {
            id: System(
                5,
            ),
        }: SchemaValue {
            database_id: None,
            name: "information_schema",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            oid: 16659,
        },
        SchemaKey {
            id: System(
                6,
            ),
        }: SchemaValue {
            database_id: None,
            name: "mz_unsafe",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            oid: 16660,
        },
        SchemaKey {
            id: System(
                7,
            ),
        }: SchemaValue {
            database_id: None,
            name: "mz_catalog_unstable",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            oid: 16972,
        },
        SchemaKey {
            id: System(
                8,
            ),
        }: SchemaValue {
            database_id: None,
            name: "mz_introspection",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            oid: 16973,
        },
        SchemaKey {
            id: User(
                3,
            ),
        }: SchemaValue {
            database_id: Some(
                User(
                    1,
                ),
            ),
            name: "public",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            oid: 20001,
        },
    },
    roles: {
        RoleKey {
            id: System(
                1,
            ),
        }: RoleValue {
            name: "mz_system",
            attributes: RoleAttributes {
                inherit: true,
                superuser: Some(
                    true,
                ),
                login: Some(
                    true,
                ),
            },
            membership: RoleMembership {
                map: [],
            },
            vars: RoleVars {
                entries: [],
            },
            oid: 16661,
        },
        RoleKey {
            id: System(
                2,
            ),
        }: RoleValue {
            name: "mz_support",
            attributes: RoleAttributes {
                inherit: true,
                superuser: None,
                login: None,
            },
            membership: RoleMembership {
                map: [],
            },
            vars: RoleVars {
                entries: [],
            },
            oid: 16662,
        },
        RoleKey {
            id: System(
                3,
            ),
        }: RoleValue {
            name: "mz_analytics",
            attributes: RoleAttributes {
                inherit: true,
                superuser: None,
                login: None,
            },
            membership: RoleMembership {
                map: [],
            },
            vars: RoleVars {
                entries: [],
            },
            oid: 16984,
        },
        RoleKey {
            id: Public,
        }: RoleValue {
            name: "public",
            attributes: RoleAttributes {
                inherit: true,
                superuser: None,
                login: None,
            },
            membership: RoleMembership {
                map: [],
            },
            vars: RoleVars {
                entries: [],
            },
            oid: 16944,
        },
        RoleKey {
            id: Predefined(
                1,
            ),
        }: RoleValue {
            name: "mz_monitor",
            attributes: RoleAttributes {
                inherit: true,
                superuser: None,
                login: None,
            },
            membership: RoleMembership {
                map: [],
            },
            vars: RoleVars {
                entries: [],
            },
            oid: 16663,
        },
        RoleKey {
            id: Predefined(
                2,
            ),
        }: RoleValue {
            name: "mz_monitor_redacted",
            attributes: RoleAttributes {
                inherit: true,
                superuser: None,
                login: None,
            },
            membership: RoleMembership {
                map: [],
            },
            vars: RoleVars {
                entries: [],
            },
            oid: 16664,
        },
    },
    role_auth: {},
    items: {},
    comments: {},
    clusters: {
        ClusterKey {
            id: User(
                1,
            ),
        }: ClusterValue {
            name: "quickstart",
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: Public,
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        2,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 768,
                    },
                },
            ],
            config: ClusterConfig {
                workload_class: None,
                variant: Managed(
                    ManagedCluster {
                        size: "scale=1,workers=1",
                        replication_factor: 1,
                        availability_zones: [],
                        logging: ReplicaLogging {
                            log_logging: false,
                            interval: Some(
                                Duration {
                                    secs: 1,
                                    nanos: 0,
                                },
                            ),
                        },
                        optimizer_feature_overrides: [],
                        schedule: Manual,
                    },
                ),
            },
        },
    },
    network_policies: {
        NetworkPolicyKey {
            id: User(
                1,
            ),
        }: NetworkPolicyValue {
            name: "default",
            rules: [
                NetworkPolicyRule {
                    name: "open_ingress",
                    address: "0.0.0.0/0",
                    action: Allow,
                    direction: Ingress,
                },
            ],
            owner_id: System(
                1,
            ),
            privileges: [
                MzAclItem {
                    grantee: System(
                        1,
                    ),
                    grantor: System(
                        1,
                    ),
                    acl_mode: AclMode {
                        bitflags: 256,
                    },
                },
            ],
            oid: 17048,
        },
    },
    cluster_replicas: {
        ClusterReplicaKey {
            id: User(
                1,
            ),
        }: ClusterReplicaValue {
            cluster_id: User(
                1,
            ),
            name: "r1",
            config: ReplicaConfig {
                logging: ReplicaLogging {
                    log_logging: false,
                    interval: Some(
                        Duration {
                            secs: 1,
                            nanos: 0,
                        },
                    ),
                },
                location: Managed(
                    ManagedLocation {
                        size: "scale=1,workers=1",
                        availability_zone: None,
                        internal: false,
                        billed_as: None,
                        pending: false,
                    },
                ),
            },
            owner_id: System(
                1,
            ),
        },
    },
    introspection_sources: {},
    id_allocator: {
        IdAllocKey {
            name: "auditlog",
        }: IdAllocValue {
            next_id: 13,
        },
        IdAllocKey {
            name: "database",
        }: IdAllocValue {
            next_id: 2,
        },
        IdAllocKey {
            name: "oid",
        }: IdAllocValue {
            next_id: 20002,
        },
        IdAllocKey {
            name: "replica",
        }: IdAllocValue {
            next_id: 2,
        },
        IdAllocKey {
            name: "schema",
        }: IdAllocValue {
            next_id: 9,
        },
        IdAllocKey {
            name: "storage_usage",
        }: IdAllocValue {
            next_id: 1,
        },
        IdAllocKey {
            name: "system",
        }: IdAllocValue {
            next_id: 1,
        },
        IdAllocKey {
            name: "system_compute",
        }: IdAllocValue {
            next_id: 1,
        },
        IdAllocKey {
            name: "system_replica",
        }: IdAllocValue {
            next_id: 1,
        },
        IdAllocKey {
            name: "user",
        }: IdAllocValue {
            next_id: 1,
        },
        IdAllocKey {
            name: "user_compute",
        }: IdAllocValue {
            next_id: 2,
        },
        IdAllocKey {
            name: "user_network_policy",
        }: IdAllocValue {
            next_id: 2,
        },
        IdAllocKey {
            name: "user_role",
        }: IdAllocValue {
            next_id: 1,
        },
    },
    configs: {
        ConfigKey {
            key: "system_config_synced",
        }: ConfigValue {
            value: 0,
        },
    },
    settings: {
        SettingKey {
            name: "catalog_content_version",
        }: SettingValue {
            value: "0.0.0",
        },
    },
    source_references: {},
    system_object_mappings: {},
    system_configurations: {},
    default_privileges: {
        DefaultPrivilegesKey {
            role_id: Public,
            database_id: None,
            schema_id: None,
            object_type: Type,
            grantee: Public,
        }: DefaultPrivilegesValue {
            privileges: AclMode {
                bitflags: 256,
            },
        },
        DefaultPrivilegesKey {
            role_id: Public,
            database_id: None,
            schema_id: None,
            object_type: Cluster,
            grantee: System(
                2,
            ),
        }: DefaultPrivilegesValue {
            privileges: AclMode {
                bitflags: 256,
            },
        },
        DefaultPrivilegesKey {
            role_id: Public,
            database_id: None,
            schema_id: None,
            object_type: Database,
            grantee: System(
                2,
            ),
        }: DefaultPrivilegesValue {
            privileges: AclMode {
                bitflags: 256,
            },
        },
        DefaultPrivilegesKey {
            role_id: Public,
            database_id: None,
            schema_id: None,
            object_type: Schema,
            grantee: System(
                2,
            ),
        }: DefaultPrivilegesValue {
            privileges: AclMode {
                bitflags: 256,
            },
        },
    },
    system_privileges: {
        SystemPrivilegesKey {
            grantee: System(
                1,
            ),
            grantor: System(
                1,
            ),
        }: SystemPrivilegesValue {
            acl_mode: AclMode {
                bitflags: 8053063680,
            },
        },
    },
    storage_collection_metadata: {},
    unfinalized_shards: {},
    txn_wal_shard: {},
}
