[package]
name = "mz-deploy"
description = "Deployment tool for Materialize."
version = "0.1.0"
edition.workspace = true
rust-version.workspace = true
publish = false

[lints]
workspace = true

[dependencies]
async-stream = "0.3"
async-trait = "0.1"
futures = "0.3"
mz-build-info = { path = "../build-info" }
mz-ore = { path = "../ore", default-features = false, features = ["async"] }
mz-sql-parser = { path = "../sql-parser", default-features = false }
thiserror = "2.0"
clap = { version = "4.5.23", features = ["derive", "env"] }
crossterm = "0.28"
owo-colors = "4.0"
tokio = { version = "1", features = ["full"] }
tokio-postgres = { version = "0.7", features = ["with-chrono-0_4"] }
postgres-openssl = { git = "https://github.com/MaterializeInc/rust-postgres" }
openssl = "0.10"
toml = "0.8"
serde = { version = "1.0", features = ["derive"] }
dirs = "5.0"
serde_json = "1.0.145"
sha2 = "0.10"
chrono = "0.4"
workspace-hack = { version = "0.0.0", path = "../workspace-hack", optional = true }

[dev-dependencies]
tempfile = "3.0"
testcontainers = "0.23"

[package.metadata.cargo-udeps.ignore]
normal = ["workspace-hack"]

[features]
default = ["workspace-hack", "docker-typecheck"]
docker-typecheck = []
