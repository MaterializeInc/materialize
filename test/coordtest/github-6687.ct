# Regression for https://github.com/MaterializeInc/materialize/issues/6687

sql
CREATE TABLE t (i INT);
----
CreatedTable {
    existed: false,
}

sql
ALTER INDEX t_primary_idx SET (logical_compaction_window = '1ms')
----
AlteredObject(
    Index,
)

update-upper
materialize.public.t_primary_idx 2
----

sql
CREATE MATERIALIZED VIEW v AS SELECT * FROM t;
----
CreatedView {
    existed: false,
}

sql
CREATE SINK s FROM v INTO AVRO OCF '<TEMP>/sink';
----
CreatedSink {
    existed: false,
}
