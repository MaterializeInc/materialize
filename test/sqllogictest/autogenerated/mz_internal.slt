
# Copyright Materialize, Inc. and contributors. All rights reserved.
#
# Use of this software is governed by the Business Source License
# included in the LICENSE file at the root of this repository.
#
# As of the Change Date specified in that file, in accordance with
# the Business Source License, use of this software will be governed
# by the Apache License, Version 2.0.

# This file is auto-generated by ci/test/lint-docs-catalog.py

mode cockroach

statement ok
CREATE VIEW objects AS
  SELECT
    schema.name AS schema,
    objects.name AS object,
    columns.position,
    columns.name,
    columns.type
  FROM
    mz_catalog.mz_columns AS columns,
    mz_catalog.mz_objects AS objects,
    mz_catalog.mz_schemas AS schema
  WHERE columns.id = objects.id AND objects.schema_id = schema.id

statement ok
CREATE INDEX objects_idx ON objects(schema, object)

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_object_global_ids' ORDER BY position
----
1  id  text
2  global_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_recent_activity_log' ORDER BY position
----
1  execution_id  uuid
2  sample_rate  double␠precision
3  cluster_id  text
4  application_name  text
5  cluster_name  text
6  database_name  text
7  search_path  list
8  transaction_isolation  text
9  execution_timestamp  uint8
10  transient_index_id  text
11  params  text[]
12  mz_version  text
13  began_at  timestamp␠with␠time␠zone
14  finished_at  timestamp␠with␠time␠zone
15  finished_status  text
16  error_message  text
17  result_size  bigint
18  rows_returned  bigint
19  execution_strategy  text
20  transaction_id  uint8
21  prepared_statement_id  uuid
22  sql_hash  bytea
23  prepared_statement_name  text
24  session_id  uuid
25  prepared_at  timestamp␠with␠time␠zone
26  statement_type  text
27  throttled_count  uint8
28  connected_at  timestamp␠with␠time␠zone
29  initial_application_name  text
30  authenticated_user  text
31  sql  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_aws_connections' ORDER BY position
----
1  id  text
2  endpoint  text
3  region  text
4  access_key_id  text
5  access_key_id_secret_id  text
6  secret_access_key_secret_id  text
7  session_token  text
8  session_token_secret_id  text
9  assume_role_arn  text
10  assume_role_session_name  text
11  principal  text
12  external_id  text
13  example_trust_policy  jsonb

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_aws_privatelink_connection_status_history' ORDER BY position
----
1  occurred_at  timestamp␠with␠time␠zone
2  connection_id  text
3  status  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_aws_privatelink_connection_statuses' ORDER BY position
----
1  id  text
2  name  text
3  last_status_change_at  timestamp␠with␠time␠zone
4  status  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_deployment_lineage' ORDER BY position
----
1  cluster_id  text
2  current_deployment_cluster_id  text
3  cluster_name  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_schedules' ORDER BY position
----
1  cluster_id  text
2  type  text
3  refresh_hydration_time_estimate  interval

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_replica_metrics' ORDER BY position
----
1  replica_id  text
2  process_id  uint8
3  cpu_nano_cores  uint8
4  memory_bytes  uint8
5  disk_bytes  uint8
6  heap_bytes  uint8
7  heap_limit  uint8

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_replica_metrics_history' ORDER BY position
----
1  replica_id  text
2  process_id  uint8
3  cpu_nano_cores  uint8
4  memory_bytes  uint8
5  disk_bytes  uint8
6  occurred_at  timestamp␠with␠time␠zone
7  heap_bytes  uint8
8  heap_limit  uint8

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_replica_statuses' ORDER BY position
----
1  replica_id  text
2  process_id  uint8
3  status  text
4  reason  text
5  updated_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_replica_status_history' ORDER BY position
----
1  replica_id  text
2  process_id  uint8
3  status  text
4  reason  text
5  occurred_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_replica_utilization' ORDER BY position
----
1  replica_id  text
2  process_id  uint8
3  cpu_percent  double␠precision
4  memory_percent  double␠precision
5  disk_percent  double␠precision
6  heap_percent  double␠precision

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_replica_utilization_history' ORDER BY position
----
1  replica_id  text
2  process_id  uint8
3  cpu_percent  double␠precision
4  memory_percent  double␠precision
5  disk_percent  double␠precision
6  heap_percent  double␠precision
7  occurred_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_replica_history' ORDER BY position
----
1  replica_id  text
2  size  text
3  cluster_id  text
4  cluster_name  text
5  replica_name  text
6  created_at  timestamp␠with␠time␠zone
7  dropped_at  timestamp␠with␠time␠zone
8  credits_per_hour  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_cluster_replica_name_history' ORDER BY position
----
1  occurred_at  timestamp␠with␠time␠zone
2  id  text
3  previous_name  text
4  new_name  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_internal_cluster_replicas' ORDER BY position
----
1  id           text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_pending_cluster_replicas' ORDER BY position
----
1  id           text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_comments' ORDER BY position
----
1  id  text
2  object_type  text
3  object_sub_id  integer
4  comment  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_compute_dependencies' ORDER BY position
----
1  object_id  text
2  dependency_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_compute_hydration_statuses' ORDER BY position
----
1  object_id  text
2  replica_id  text
3  hydrated  boolean
4  hydration_time  interval

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_compute_operator_hydration_statuses' ORDER BY position
----
1  replica_id  text
2  object_id  text
3  physical_plan_node_id  uint8
4  hydrated  boolean

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_frontiers' ORDER BY position
----
1  object_id  text
2  read_frontier  mz_timestamp
3  write_frontier  mz_timestamp

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_history_retention_strategies' ORDER BY position
----
1  id  text
2  strategy  text
3  value  jsonb

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_hydration_statuses' ORDER BY position
----
1  object_id  text
2  replica_id  text
3  hydrated  boolean

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_license_keys' ORDER BY position
----
1  id  text
2  organization  text
3  environment_id  text
4  expiration  timestamp␠with␠time␠zone
5  not_before  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_index_advice' ORDER BY position
----
1  object_id  text
2  hint  text
3  details  text
4  referenced_object_ids  list

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_materialization_dependencies' ORDER BY position
----
1  object_id  text
2  dependency_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_materialization_lag' ORDER BY position
----
1  object_id  text
2  local_lag  interval
3  global_lag  interval
4  slowest_local_input_id  text
5  slowest_global_input_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_materialized_view_refresh_strategies' ORDER BY position
----
1  materialized_view_id  text
2  type  text
3  interval  interval
4  aligned_to  timestamp␠with␠time␠zone
5  at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_materialized_view_refreshes' ORDER BY position
----
1  materialized_view_id  text
2  last_completed_refresh  mz_timestamp
3  next_refresh  mz_timestamp

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_object_dependencies' ORDER BY position
----
1  object_id  text
2  referenced_object_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_object_fully_qualified_names' ORDER BY position
----
1  id  text
2  name  text
3  object_type  text
4  schema_id  text
5  schema_name  text
6  database_id  text
7  database_name  text
8  cluster_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_object_lifetimes' ORDER BY position
----
1  id  text
2  previous_id  text
3  object_type  text
4  event_type  text
5  occurred_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_object_history' ORDER BY position
----
1  id  text
2  cluster_id  text
3  object_type  text
4  created_at  timestamp␠with␠time␠zone
5  dropped_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_object_transitive_dependencies' ORDER BY position
----
1  object_id  text
2  referenced_object_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_notices' ORDER BY position
----
1  id  text
2  notice_type  text
3  message  text
4  hint  text
5  action  text
6  redacted_message  text
7  redacted_hint  text
8  redacted_action  text
9  action_type  text
10  object_id  text
11  created_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_notices_redacted' ORDER BY position
----
1  id  text
2  notice_type  text
3  message  text
4  hint  text
5  action  text
6  action_type  text
7  object_id  text
8  created_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_postgres_sources' ORDER BY position
----
1  id  text
2  replication_slot  text
3  timeline_id  uint8

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_postgres_source_tables' ORDER BY position
----
1  id  text
2  schema_name  text
3  table_name  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_mysql_source_tables' ORDER BY position
----
1  id  text
2  schema_name  text
3  table_name  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_sql_server_source_tables' ORDER BY position
----
1  id  text
2  schema_name  text
3  table_name  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_kafka_source_tables' ORDER BY position
----
1  id  text
2  topic  text
3  envelope_type  text
4  key_format  text
5  value_format  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_session_history' ORDER BY position
----
1  session_id  uuid
2  connected_at  timestamp␠with␠time␠zone
3  initial_application_name  text
4  authenticated_user  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_sessions' ORDER BY position
----
1  id  uuid
2  connection_id  uint4
3  role_id  text
4  client_ip  text
5  connected_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_network_policies' ORDER BY position
----
1  id  text
2  name  text
3  owner_id  text
4  privileges  mz_aclitem[]
5  oid  oid

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_network_policy_rules' ORDER BY position
----
1  name  text
2  policy_id  text
3  action  text
4  address  text
5  direction  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_all_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  database  text
4  schema  text
5  name  text
6  object_type  text
7  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_cluster_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  name  text
4  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_database_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  name  text
4  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_default_privileges' ORDER BY position
----
1  object_owner  text
2  database  text
3  schema  text
4  object_type  text
5  grantee  text
6  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_object_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  database  text
4  schema  text
5  name  text
6  object_type  text
7  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_role_members' ORDER BY position
----
1  role  text
2  member  text
3  grantor  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_schema_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  database  text
4  name  text
5  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_system_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_all_my_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  database  text
4  schema  text
5  name  text
6  object_type  text
7  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_my_cluster_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  name  text
4  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_my_database_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  name  text
4  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_my_default_privileges' ORDER BY position
----
1  object_owner  text
2  database  text
3  schema  text
4  object_type  text
5  grantee  text
6  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_my_object_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  database  text
4  schema  text
5  name  text
6  object_type  text
7  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_my_role_members' ORDER BY position
----
1  role  text
2  member  text
3  grantor  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_my_schema_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  database  text
4  name  text
5  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_show_my_system_privileges' ORDER BY position
----
1  grantor  text
2  grantee  text
3  privilege_type  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_sink_statistics' ORDER BY position
----
1  id  text
2  replica_id  text
3  messages_staged  uint8
4  messages_committed  uint8
5  bytes_staged  uint8
6  bytes_committed  uint8

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_sink_statuses' ORDER BY position
----
1  id  text
2  name  text
3  type  text
4  last_status_change_at  timestamp␠with␠time␠zone
5  status  text
6  error  text
7  details  jsonb

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_sink_status_history' ORDER BY position
----
1  occurred_at  timestamp␠with␠time␠zone
2  sink_id  text
3  status  text
4  error  text
5  details  jsonb
6  replica_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_source_statistics' ORDER BY position
----
1  id  text
2  replica_id  text
3  messages_received  uint8
4  bytes_received  uint8
5  updates_staged  uint8
6  updates_committed  uint8
7  records_indexed  uint8
8  bytes_indexed  uint8
9  rehydration_latency  interval
10  snapshot_records_known  uint8
11  snapshot_records_staged  uint8
12  snapshot_committed  boolean
13  offset_known  uint8
14  offset_committed  uint8

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_source_statuses' ORDER BY position
----
1  id  text
2  name  text
3  type  text
4  last_status_change_at  timestamp␠with␠time␠zone
5  status  text
6  error  text
7  details  jsonb

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_source_status_history' ORDER BY position
----
1  occurred_at  timestamp␠with␠time␠zone
2  source_id  text
3  status  text
4  error  text
5  details  jsonb
6  replica_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_statement_lifecycle_history' ORDER BY position
----
1  statement_id  uuid
2  event_type  text
3  occurred_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_subscriptions' ORDER BY position
----
1  id  text
2  session_id  uuid
3  cluster_id  text
4  created_at  timestamp␠with␠time␠zone
5  referenced_object_ids  list

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_wallclock_global_lag' ORDER BY position
----
1  object_id  text
2  lag  interval

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_wallclock_lag_history' ORDER BY position
----
1  object_id  text
2  replica_id  text
3  lag  interval
4  occurred_at  timestamp␠with␠time␠zone

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_internal' AND object = 'mz_webhook_sources' ORDER BY position
----
1  id  text
2  name  text
3  url  text

query T
SELECT DISTINCT object FROM objects WHERE schema IN ('mz_internal') ORDER BY object
----
mz_activity_log_thinned
mz_aggregates
mz_aws_connections
mz_aws_privatelink_connection_status_history
mz_aws_privatelink_connection_statuses
mz_cluster_deployment_lineage
mz_cluster_replica_history
mz_cluster_replica_metrics
mz_cluster_replica_metrics_history
mz_cluster_replica_name_history
mz_cluster_replica_status_history
mz_cluster_replica_statuses
mz_cluster_replica_utilization
mz_cluster_replica_utilization_history
mz_cluster_schedules
mz_cluster_workload_classes
mz_comments
mz_compute_dependencies
mz_compute_error_counts_raw_unified
mz_compute_hydration_statuses
mz_compute_hydration_times
mz_compute_operator_hydration_statuses
mz_console_cluster_utilization_overview
mz_continual_tasks
mz_frontiers
mz_global_frontiers
mz_history_retention_strategies
mz_hydration_statuses
mz_index_advice
mz_internal_cluster_replicas
mz_kafka_source_tables
mz_license_keys
mz_materialization_dependencies
mz_materialization_lag
mz_materialized_view_refresh_strategies
mz_materialized_view_refreshes
mz_mysql_source_tables
mz_network_policies
mz_network_policy_rules
mz_notices
mz_notices_redacted
mz_object_dependencies
mz_object_fully_qualified_names
mz_object_global_ids
mz_object_history
mz_object_lifetimes
mz_object_oid_alias
mz_object_transitive_dependencies
mz_objects_id_namespace_types
mz_optimizer_notices
mz_pending_cluster_replicas
mz_postgres_source_tables
mz_postgres_sources
mz_prepared_statement_history
mz_recent_activity_log
mz_recent_activity_log_redacted
mz_recent_activity_log_thinned
mz_recent_sql_text
mz_recent_sql_text_redacted
mz_replacements
mz_session_history
mz_sessions
mz_show_all_my_privileges
mz_show_all_objects
mz_show_all_privileges
mz_show_cluster_privileges
mz_show_cluster_replicas
mz_show_clusters
mz_show_columns
mz_show_connections
mz_show_continual_tasks
mz_show_database_privileges
mz_show_databases
mz_show_default_privileges
mz_show_indexes
mz_show_materialized_views
mz_show_my_cluster_privileges
mz_show_my_database_privileges
mz_show_my_default_privileges
mz_show_my_object_privileges
mz_show_my_role_members
mz_show_my_schema_privileges
mz_show_my_system_privileges
mz_show_network_policies
mz_show_object_privileges
mz_show_role_members
mz_show_roles
mz_show_schema_privileges
mz_show_schemas
mz_show_secrets
mz_show_sinks
mz_show_sources
mz_show_system_privileges
mz_show_tables
mz_show_types
mz_show_views
mz_sink_statistics
mz_sink_statistics_raw
mz_sink_status_history
mz_sink_statuses
mz_source_references
mz_source_statistics
mz_source_statistics_raw
mz_source_statistics_with_history
mz_source_status_history
mz_source_statuses
mz_sql_server_source_tables
mz_sql_text
mz_sql_text_redacted
mz_statement_execution_history
mz_statement_execution_history_redacted
mz_statement_lifecycle_history
mz_storage_shards
mz_storage_usage_by_shard
mz_subscriptions
mz_type_pg_metadata
mz_wallclock_global_lag
mz_wallclock_global_lag_histogram
mz_wallclock_global_lag_histogram_raw
mz_wallclock_global_lag_history
mz_wallclock_global_lag_recent_history
mz_wallclock_lag_history
mz_webhook_sources
pg_attrdef_all_databases
pg_attribute_all_databases
pg_class_all_databases
pg_description_all_databases
pg_namespace_all_databases
pg_type_all_databases
