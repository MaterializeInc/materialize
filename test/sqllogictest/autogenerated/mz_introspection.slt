
# Copyright Materialize, Inc. and contributors. All rights reserved.
#
# Use of this software is governed by the Business Source License
# included in the LICENSE file at the root of this repository.
#
# As of the Change Date specified in that file, in accordance with
# the Business Source License, use of this software will be governed
# by the Apache License, Version 2.0.

# This file is auto-generated by ci/test/lint-docs-catalog.py

mode cockroach

statement ok
CREATE VIEW objects AS
  SELECT
    schema.name AS schema,
    objects.name AS object,
    columns.position,
    columns.name,
    columns.type
  FROM
    mz_catalog.mz_columns AS columns,
    mz_catalog.mz_objects AS objects,
    mz_catalog.mz_schemas AS schema
  WHERE columns.id = objects.id AND objects.schema_id = schema.id

statement ok
CREATE INDEX objects_idx ON objects(schema, object)

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_active_peeks' ORDER BY position
----
1  id  uuid
2  object_id  text
3  type  text
4  time  mz_timestamp

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_arrangement_sharing' ORDER BY position
----
1  operator_id  uint8
2  count  bigint

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_arrangement_sizes' ORDER BY position
----
1  operator_id  uint8
2  records  numeric
3  batches  numeric
4  size  numeric
5  capacity  numeric
6  allocations  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_compute_error_counts' ORDER BY position
----
1  export_id  text
2  count  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_compute_exports' ORDER BY position
----
1  export_id  text
2  dataflow_id  uint8

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_compute_frontiers' ORDER BY position
----
1  export_id  text
2  time  mz_timestamp

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_compute_import_frontiers' ORDER BY position
----
1  export_id  text
2  import_id  text
3  time  mz_timestamp

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_compute_operator_durations_histogram' ORDER BY position
----
1  id  uint8
2  duration_ns  uint8
3  count  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflows' ORDER BY position
----
1  id  uint8
2  name  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflow_addresses' ORDER BY position
----
1  id  uint8
2  address  list

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflow_arrangement_sizes' ORDER BY position
----
1  id  uint8
2  name  text
3  records  numeric
4  batches  numeric
5  size  numeric
6  capacity  numeric
7  allocations  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflow_channels' ORDER BY position
----
1  id  uint8
2  from_index  uint8
3  from_port  uint8
4  to_index  uint8
5  to_port  uint8

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflow_channel_operators' ORDER BY position
----
1  id  uint8
2  from_operator_id  uint8
3  from_operator_address  list
4  to_operator_id  uint8
5  to_operator_address  list

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflow_global_ids' ORDER BY position
----
1  id  uint8
2  global_id  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflow_operators' ORDER BY position
----
1  id  uint8
2  name  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflow_operator_dataflows' ORDER BY position
----
1  id  uint8
2  name  text
3  dataflow_id  uint8
4  dataflow_name  text

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflow_operator_parents' ORDER BY position
----
1  id  uint8
2  parent_id  uint8

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_dataflow_shutdown_durations_histogram' ORDER BY position
----
1  duration_ns  uint8
2  count  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_expected_group_size_advice' ORDER BY position
----
1  dataflow_id  uint8
2  dataflow_name  text
3  region_id  uint8
4  region_name  text
5  levels  bigint
6  to_cut  bigint
7  savings  numeric
8  hint  double‚ê†precision

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_lir_mapping' ORDER BY position
----
1  global_id           text
2  lir_id              uint8
3  operator            text
4  parent_lir_id       uint8
5  nesting             uint2
6  operator_id_start   uint8
7  operator_id_end     uint8

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_message_counts' ORDER BY position
----
1  channel_id  uint8
2  sent  numeric
3  received  numeric
4  batch_sent  numeric
5  batch_received  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_peek_durations_histogram' ORDER BY position
----
1  type  text
2  duration_ns  uint8
3  count  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_records_per_dataflow' ORDER BY position
----
1  id  uint8
2  name  text
3  records  numeric
4  batches  numeric
5  size  numeric
6  capacity  numeric
7  allocations  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_records_per_dataflow_operator' ORDER BY position
----
1  id  uint8
2  name  text
3  dataflow_id  uint8
4  records  numeric
5  batches  numeric
6  size  numeric
7  capacity  numeric
8  allocations  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_scheduling_elapsed' ORDER BY position
----
1  id  uint8
2  elapsed_ns  numeric

query ITT
SELECT position, name, type FROM objects WHERE schema = 'mz_introspection' AND object = 'mz_scheduling_parks_histogram' ORDER BY position
----
1  slept_for_ns  uint8
2  requested_ns  uint8
3  count  numeric

query T
SELECT DISTINCT object FROM objects WHERE schema IN ('mz_introspection') ORDER BY object
----
mz_active_peeks
mz_active_peeks_per_worker
mz_arrangement_batcher_allocations_raw
mz_arrangement_batcher_capacity_raw
mz_arrangement_batcher_records_raw
mz_arrangement_batcher_size_raw
mz_arrangement_batches_raw
mz_arrangement_heap_allocations_raw
mz_arrangement_heap_capacity_raw
mz_arrangement_heap_size_raw
mz_arrangement_records_raw
mz_arrangement_sharing
mz_arrangement_sharing_per_worker
mz_arrangement_sharing_raw
mz_arrangement_sizes
mz_arrangement_sizes_per_worker
mz_compute_dataflow_global_ids_per_worker
mz_compute_error_counts
mz_compute_error_counts_per_worker
mz_compute_error_counts_raw
mz_compute_exports
mz_compute_exports_per_worker
mz_compute_frontiers
mz_compute_frontiers_per_worker
mz_compute_hydration_times_per_worker
mz_compute_import_frontiers
mz_compute_import_frontiers_per_worker
mz_compute_lir_mapping_per_worker
mz_compute_operator_durations_histogram
mz_compute_operator_durations_histogram_per_worker
mz_compute_operator_durations_histogram_raw
mz_dataflow_addresses
mz_dataflow_addresses_per_worker
mz_dataflow_arrangement_sizes
mz_dataflow_channel_operators
mz_dataflow_channel_operators_per_worker
mz_dataflow_channels
mz_dataflow_channels_per_worker
mz_dataflow_global_ids
mz_dataflow_operator_dataflows
mz_dataflow_operator_dataflows_per_worker
mz_dataflow_operator_parents
mz_dataflow_operator_parents_per_worker
mz_dataflow_operator_reachability
mz_dataflow_operator_reachability_per_worker
mz_dataflow_operator_reachability_raw
mz_dataflow_operators
mz_dataflow_operators_per_worker
mz_dataflow_shutdown_durations_histogram
mz_dataflow_shutdown_durations_histogram_per_worker
mz_dataflow_shutdown_durations_histogram_raw
mz_dataflows
mz_dataflows_per_worker
mz_expected_group_size_advice
mz_lir_mapping
mz_message_batch_counts_received_raw
mz_message_batch_counts_sent_raw
mz_message_counts
mz_message_counts_per_worker
mz_message_counts_received_raw
mz_message_counts_sent_raw
mz_peek_durations_histogram
mz_peek_durations_histogram_per_worker
mz_peek_durations_histogram_raw
mz_records_per_dataflow
mz_records_per_dataflow_operator
mz_records_per_dataflow_operator_per_worker
mz_records_per_dataflow_per_worker
mz_scheduling_elapsed
mz_scheduling_elapsed_per_worker
mz_scheduling_elapsed_raw
mz_scheduling_parks_histogram
mz_scheduling_parks_histogram_per_worker
mz_scheduling_parks_histogram_raw
