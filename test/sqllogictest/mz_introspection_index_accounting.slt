# Copyright Materialize, Inc. and contributors. All rights reserved.
#
# Use of this software is governed by the Business Source License
# included in the LICENSE file at the root of this repository.
#
# As of the Change Date specified in that file, in accordance with
# the Business Source License, use of this software will be governed
# by the Apache License, Version 2.0.

# The purpose of these tests is to dectect additions or changes of indexes
# on the mz_introspection cluster, including changes to underlying
# objects that are indexed.
# Rewrite this file automatically via --rewrite-results when it fails.

mode cockroach

statement ok
SET CLUSTER TO mz_introspection

# Record all indexes on the mz_introspection cluster and their definition.
# That way we can detect new or modified indexes.
query TT
SELECT DISTINCT name, create_sql
FROM mz_indexes
WHERE cluster_id =
  (SELECT id FROM mz_clusters WHERE name = 'mz_introspection')
ORDER BY 1, 2
----
mz_active_peeks_per_worker_s2_primary_idx  CREATE␠INDEX␠"mz_active_peeks_per_worker_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_active_peeks_per_worker"␠("id",␠"worker_id")
mz_arrangement_batcher_allocations_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_batcher_allocations_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_batcher_allocations_raw"␠("operator_id",␠"worker_id")
mz_arrangement_batcher_capacity_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_batcher_capacity_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_batcher_capacity_raw"␠("operator_id",␠"worker_id")
mz_arrangement_batcher_records_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_batcher_records_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_batcher_records_raw"␠("operator_id",␠"worker_id")
mz_arrangement_batcher_size_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_batcher_size_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_batcher_size_raw"␠("operator_id",␠"worker_id")
mz_arrangement_batches_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_batches_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_batches_raw"␠("operator_id",␠"worker_id")
mz_arrangement_heap_allocations_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_heap_allocations_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_heap_allocations_raw"␠("operator_id",␠"worker_id")
mz_arrangement_heap_capacity_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_heap_capacity_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_heap_capacity_raw"␠("operator_id",␠"worker_id")
mz_arrangement_heap_size_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_heap_size_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_heap_size_raw"␠("operator_id",␠"worker_id")
mz_arrangement_records_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_records_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_records_raw"␠("operator_id",␠"worker_id")
mz_arrangement_sharing_raw_s2_primary_idx  CREATE␠INDEX␠"mz_arrangement_sharing_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_arrangement_sharing_raw"␠("operator_id",␠"worker_id")
mz_cluster_replica_history_ind  CREATE␠INDEX␠"mz_cluster_replica_history_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_cluster_replica_history"␠("dropped_at")
mz_cluster_replica_metrics_ind  CREATE␠INDEX␠"mz_cluster_replica_metrics_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_cluster_replica_metrics"␠("replica_id")
mz_cluster_replica_sizes_ind  CREATE␠INDEX␠"mz_cluster_replica_sizes_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_cluster_replica_sizes"␠("size")
mz_cluster_replica_statuses_ind  CREATE␠INDEX␠"mz_cluster_replica_statuses_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_cluster_replica_statuses"␠("replica_id")
mz_cluster_replicas_ind  CREATE␠INDEX␠"mz_cluster_replicas_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_cluster_replicas"␠("id")
mz_clusters_ind  CREATE␠INDEX␠"mz_clusters_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_clusters"␠("id")
mz_compute_dependencies_ind  CREATE␠INDEX␠"mz_compute_dependencies_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_compute_dependencies"␠("dependency_id")
mz_compute_error_counts_raw_s2_primary_idx  CREATE␠INDEX␠"mz_compute_error_counts_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_compute_error_counts_raw"␠("export_id",␠"worker_id")
mz_compute_exports_per_worker_s2_primary_idx  CREATE␠INDEX␠"mz_compute_exports_per_worker_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_compute_exports_per_worker"␠("export_id",␠"worker_id")
mz_compute_frontiers_per_worker_s2_primary_idx  CREATE␠INDEX␠"mz_compute_frontiers_per_worker_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_compute_frontiers_per_worker"␠("export_id",␠"worker_id")
mz_compute_import_frontiers_per_worker_s2_primary_idx  CREATE␠INDEX␠"mz_compute_import_frontiers_per_worker_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_compute_import_frontiers_per_worker"␠("export_id",␠"import_id",␠"worker_id")
mz_compute_operator_durations_histogram_raw_s2_primary_idx  CREATE␠INDEX␠"mz_compute_operator_durations_histogram_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_compute_operator_durations_histogram_raw"␠("id",␠"worker_id",␠"duration_ns")
mz_dataflow_addresses_per_worker_s2_primary_idx  CREATE␠INDEX␠"mz_dataflow_addresses_per_worker_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_dataflow_addresses_per_worker"␠("id",␠"worker_id")
mz_dataflow_channels_per_worker_s2_primary_idx  CREATE␠INDEX␠"mz_dataflow_channels_per_worker_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_dataflow_channels_per_worker"␠("id",␠"worker_id")
mz_dataflow_operator_reachability_raw_s2_primary_idx  CREATE␠INDEX␠"mz_dataflow_operator_reachability_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_dataflow_operator_reachability_raw"␠("address",␠"port",␠"worker_id",␠"update_type",␠"time")
mz_dataflow_operators_per_worker_s2_primary_idx  CREATE␠INDEX␠"mz_dataflow_operators_per_worker_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_dataflow_operators_per_worker"␠("id",␠"worker_id")
mz_dataflow_shutdown_durations_histogram_raw_s2_primary_idx  CREATE␠INDEX␠"mz_dataflow_shutdown_durations_histogram_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_dataflow_shutdown_durations_histogram_raw"␠("worker_id",␠"duration_ns")
mz_frontiers_ind  CREATE␠INDEX␠"mz_frontiers_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_frontiers"␠("object_id")
mz_indexes_ind  CREATE␠INDEX␠"mz_indexes_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_indexes"␠("id")
mz_materialized_views_ind  CREATE␠INDEX␠"mz_materialized_views_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_materialized_views"␠("id")
mz_message_batch_counts_received_raw_s2_primary_idx  CREATE␠INDEX␠"mz_message_batch_counts_received_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_message_batch_counts_received_raw"␠("channel_id",␠"from_worker_id",␠"to_worker_id")
mz_message_batch_counts_sent_raw_s2_primary_idx  CREATE␠INDEX␠"mz_message_batch_counts_sent_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_message_batch_counts_sent_raw"␠("channel_id",␠"from_worker_id",␠"to_worker_id")
mz_message_counts_received_raw_s2_primary_idx  CREATE␠INDEX␠"mz_message_counts_received_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_message_counts_received_raw"␠("channel_id",␠"from_worker_id",␠"to_worker_id")
mz_message_counts_sent_raw_s2_primary_idx  CREATE␠INDEX␠"mz_message_counts_sent_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_message_counts_sent_raw"␠("channel_id",␠"from_worker_id",␠"to_worker_id")
mz_notices_ind  CREATE␠INDEX␠"mz_notices_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_notices"␠("id")
mz_object_dependencies_ind  CREATE␠INDEX␠"mz_object_dependencies_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_object_dependencies"␠("object_id")
mz_object_lifetimes_ind  CREATE␠INDEX␠"mz_object_lifetimes_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_object_lifetimes"␠("id")
mz_object_transitive_dependencies_ind  CREATE␠INDEX␠"mz_object_transitive_dependencies_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_object_transitive_dependencies"␠("object_id")
mz_peek_durations_histogram_raw_s2_primary_idx  CREATE␠INDEX␠"mz_peek_durations_histogram_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_peek_durations_histogram_raw"␠("worker_id",␠"type",␠"duration_ns")
mz_recent_activity_log_thinned_ind  CREATE␠INDEX␠"mz_recent_activity_log_thinned_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_recent_activity_log_thinned"␠("sql_hash")
mz_recent_sql_text_ind  CREATE␠INDEX␠"mz_recent_sql_text_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_recent_sql_text"␠("sql_hash")
mz_roles_ind  CREATE␠INDEX␠"mz_roles_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_roles"␠("id")
mz_scheduling_elapsed_raw_s2_primary_idx  CREATE␠INDEX␠"mz_scheduling_elapsed_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_scheduling_elapsed_raw"␠("id",␠"worker_id")
mz_scheduling_parks_histogram_raw_s2_primary_idx  CREATE␠INDEX␠"mz_scheduling_parks_histogram_raw_s2_primary_idx"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_scheduling_parks_histogram_raw"␠("worker_id",␠"slept_for_ns",␠"requested_ns")
mz_show_all_objects_ind  CREATE␠INDEX␠"mz_show_all_objects_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_objects"␠("schema_id")
mz_show_cluster_replicas_ind  CREATE␠INDEX␠"mz_show_cluster_replicas_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_show_cluster_replicas"␠("cluster")
mz_show_clusters_ind  CREATE␠INDEX␠"mz_show_clusters_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_clusters"␠("name")
mz_show_columns_ind  CREATE␠INDEX␠"mz_show_columns_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_columns"␠("id")
mz_show_connections_ind  CREATE␠INDEX␠"mz_show_connections_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_connections"␠("schema_id")
mz_show_databases_ind  CREATE␠INDEX␠"mz_show_databases_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_databases"␠("name")
mz_show_indexes_ind  CREATE␠INDEX␠"mz_show_indexes_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_show_indexes"␠("schema_id")
mz_show_materialized_views_ind  CREATE␠INDEX␠"mz_show_materialized_views_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_show_materialized_views"␠("schema_id")
mz_show_schemas_ind  CREATE␠INDEX␠"mz_show_schemas_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_schemas"␠("database_id")
mz_show_secrets_ind  CREATE␠INDEX␠"mz_show_secrets_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_secrets"␠("schema_id")
mz_show_sinks_ind  CREATE␠INDEX␠"mz_show_sinks_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_show_sinks"␠("schema_id")
mz_show_sources_ind  CREATE␠INDEX␠"mz_show_sources_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_show_sources"␠("schema_id")
mz_show_tables_ind  CREATE␠INDEX␠"mz_show_tables_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_tables"␠("schema_id")
mz_show_types_ind  CREATE␠INDEX␠"mz_show_types_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_types"␠("schema_id")
mz_show_views_ind  CREATE␠INDEX␠"mz_show_views_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_views"␠("schema_id")
mz_sink_statistics_ind  CREATE␠INDEX␠"mz_sink_statistics_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_sink_statistics"␠("id")
mz_sink_status_history_ind  CREATE␠INDEX␠"mz_sink_status_history_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_sink_status_history"␠("sink_id")
mz_sink_statuses_ind  CREATE␠INDEX␠"mz_sink_statuses_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_sink_statuses"␠("id")
mz_sinks_ind  CREATE␠INDEX␠"mz_sinks_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_sinks"␠("id")
mz_source_statistics_ind  CREATE␠INDEX␠"mz_source_statistics_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_source_statistics"␠("id")
mz_source_status_history_ind  CREATE␠INDEX␠"mz_source_status_history_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_source_status_history"␠("source_id")
mz_source_statuses_ind  CREATE␠INDEX␠"mz_source_statuses_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_internal"."mz_source_statuses"␠("id")
mz_sources_ind  CREATE␠INDEX␠"mz_sources_ind"␠IN␠CLUSTER␠[s2]␠ON␠"mz_catalog"."mz_sources"␠("id")

# Record all transitive dependencies (tables, sources, views, mvs) of indexes on
# the mz_introspection cluster.
# Include each column of each dependent object, so we can detect changes to
# object definitions that may impact the memory utilization of the index.
query TT
SELECT DISTINCT o.name dependent_object_name, co.name column_name
FROM mz_indexes i
LEFT JOIN mz_internal.mz_object_transitive_dependencies d ON i.id = d.object_id
LEFT JOIN mz_objects o ON o.id = d.referenced_object_id
JOIN mz_columns co on co.id = o.id
WHERE cluster_id =
  (SELECT id FROM mz_clusters WHERE name = 'mz_introspection')
ORDER BY 1, 2
----
mz_active_peeks_per_worker  id
mz_active_peeks_per_worker  object_id
mz_active_peeks_per_worker  time
mz_active_peeks_per_worker  type
mz_active_peeks_per_worker  worker_id
mz_activity_log_thinned  application_name
mz_activity_log_thinned  authenticated_user
mz_activity_log_thinned  began_at
mz_activity_log_thinned  cluster_id
mz_activity_log_thinned  cluster_name
mz_activity_log_thinned  error_message
mz_activity_log_thinned  execution_id
mz_activity_log_thinned  execution_strategy
mz_activity_log_thinned  execution_timestamp
mz_activity_log_thinned  finished_at
mz_activity_log_thinned  finished_status
mz_activity_log_thinned  initial_application_name
mz_activity_log_thinned  mz_version
mz_activity_log_thinned  params
mz_activity_log_thinned  prepared_at
mz_activity_log_thinned  prepared_statement_id
mz_activity_log_thinned  prepared_statement_name
mz_activity_log_thinned  rows_returned
mz_activity_log_thinned  sample_rate
mz_activity_log_thinned  session_id
mz_activity_log_thinned  sql_hash
mz_activity_log_thinned  statement_type
mz_activity_log_thinned  throttled_count
mz_activity_log_thinned  transaction_id
mz_activity_log_thinned  transaction_isolation
mz_activity_log_thinned  transient_index_id
mz_arrangement_batcher_allocations_raw  operator_id
mz_arrangement_batcher_allocations_raw  worker_id
mz_arrangement_batcher_capacity_raw  operator_id
mz_arrangement_batcher_capacity_raw  worker_id
mz_arrangement_batcher_records_raw  operator_id
mz_arrangement_batcher_records_raw  worker_id
mz_arrangement_batcher_size_raw  operator_id
mz_arrangement_batcher_size_raw  worker_id
mz_arrangement_batches_raw  operator_id
mz_arrangement_batches_raw  worker_id
mz_arrangement_heap_allocations_raw  operator_id
mz_arrangement_heap_allocations_raw  worker_id
mz_arrangement_heap_capacity_raw  operator_id
mz_arrangement_heap_capacity_raw  worker_id
mz_arrangement_heap_size_raw  operator_id
mz_arrangement_heap_size_raw  worker_id
mz_arrangement_records_raw  operator_id
mz_arrangement_records_raw  worker_id
mz_arrangement_sharing_raw  operator_id
mz_arrangement_sharing_raw  worker_id
mz_audit_events  details
mz_audit_events  event_type
mz_audit_events  id
mz_audit_events  object_type
mz_audit_events  occurred_at
mz_audit_events  user
mz_cluster_replica_history  cluster_name
mz_cluster_replica_history  created_at
mz_cluster_replica_history  credits_per_hour
mz_cluster_replica_history  dropped_at
mz_cluster_replica_history  replica_id
mz_cluster_replica_history  replica_name
mz_cluster_replica_history  size
mz_cluster_replica_metrics  cpu_nano_cores
mz_cluster_replica_metrics  disk_bytes
mz_cluster_replica_metrics  memory_bytes
mz_cluster_replica_metrics  process_id
mz_cluster_replica_metrics  replica_id
mz_cluster_replica_sizes  cpu_nano_cores
mz_cluster_replica_sizes  credits_per_hour
mz_cluster_replica_sizes  disk_bytes
mz_cluster_replica_sizes  memory_bytes
mz_cluster_replica_sizes  processes
mz_cluster_replica_sizes  size
mz_cluster_replica_sizes  workers
mz_cluster_replica_statuses  process_id
mz_cluster_replica_statuses  reason
mz_cluster_replica_statuses  replica_id
mz_cluster_replica_statuses  status
mz_cluster_replica_statuses  updated_at
mz_cluster_replicas  availability_zone
mz_cluster_replicas  cluster_id
mz_cluster_replicas  disk
mz_cluster_replicas  id
mz_cluster_replicas  name
mz_cluster_replicas  owner_id
mz_cluster_replicas  size
mz_clusters  availability_zones
mz_clusters  disk
mz_clusters  id
mz_clusters  managed
mz_clusters  name
mz_clusters  owner_id
mz_clusters  privileges
mz_clusters  replication_factor
mz_clusters  size
mz_columns  default
mz_columns  id
mz_columns  name
mz_columns  nullable
mz_columns  position
mz_columns  type
mz_columns  type_mod
mz_columns  type_oid
mz_compute_dependencies  dependency_id
mz_compute_dependencies  object_id
mz_compute_error_counts_raw  count
mz_compute_error_counts_raw  export_id
mz_compute_error_counts_raw  worker_id
mz_compute_exports_per_worker  dataflow_id
mz_compute_exports_per_worker  export_id
mz_compute_exports_per_worker  worker_id
mz_compute_frontiers_per_worker  export_id
mz_compute_frontiers_per_worker  time
mz_compute_frontiers_per_worker  worker_id
mz_compute_import_frontiers_per_worker  export_id
mz_compute_import_frontiers_per_worker  import_id
mz_compute_import_frontiers_per_worker  time
mz_compute_import_frontiers_per_worker  worker_id
mz_compute_operator_durations_histogram_raw  duration_ns
mz_compute_operator_durations_histogram_raw  id
mz_compute_operator_durations_histogram_raw  worker_id
mz_connections  create_sql
mz_connections  id
mz_connections  name
mz_connections  oid
mz_connections  owner_id
mz_connections  privileges
mz_connections  redacted_create_sql
mz_connections  schema_id
mz_connections  type
mz_databases  id
mz_databases  name
mz_databases  oid
mz_databases  owner_id
mz_databases  privileges
mz_dataflow_addresses_per_worker  address
mz_dataflow_addresses_per_worker  id
mz_dataflow_addresses_per_worker  worker_id
mz_dataflow_channels_per_worker  from_index
mz_dataflow_channels_per_worker  from_port
mz_dataflow_channels_per_worker  id
mz_dataflow_channels_per_worker  to_index
mz_dataflow_channels_per_worker  to_port
mz_dataflow_channels_per_worker  worker_id
mz_dataflow_operator_reachability_raw  address
mz_dataflow_operator_reachability_raw  port
mz_dataflow_operator_reachability_raw  time
mz_dataflow_operator_reachability_raw  update_type
mz_dataflow_operator_reachability_raw  worker_id
mz_dataflow_operators_per_worker  id
mz_dataflow_operators_per_worker  name
mz_dataflow_operators_per_worker  worker_id
mz_dataflow_shutdown_durations_histogram_raw  duration_ns
mz_dataflow_shutdown_durations_histogram_raw  worker_id
mz_frontiers  object_id
mz_frontiers  read_frontier
mz_frontiers  write_frontier
mz_functions  argument_type_ids
mz_functions  id
mz_functions  name
mz_functions  oid
mz_functions  owner_id
mz_functions  return_type_id
mz_functions  returns_set
mz_functions  schema_id
mz_functions  variadic_argument_type_id
mz_index_columns  index_id
mz_index_columns  index_position
mz_index_columns  nullable
mz_index_columns  on_expression
mz_index_columns  on_position
mz_indexes  cluster_id
mz_indexes  create_sql
mz_indexes  id
mz_indexes  name
mz_indexes  oid
mz_indexes  on_id
mz_indexes  owner_id
mz_indexes  redacted_create_sql
mz_materialized_views  cluster_id
mz_materialized_views  create_sql
mz_materialized_views  definition
mz_materialized_views  id
mz_materialized_views  name
mz_materialized_views  oid
mz_materialized_views  owner_id
mz_materialized_views  privileges
mz_materialized_views  redacted_create_sql
mz_materialized_views  schema_id
mz_message_batch_counts_received_raw  channel_id
mz_message_batch_counts_received_raw  from_worker_id
mz_message_batch_counts_received_raw  to_worker_id
mz_message_batch_counts_sent_raw  channel_id
mz_message_batch_counts_sent_raw  from_worker_id
mz_message_batch_counts_sent_raw  to_worker_id
mz_message_counts_received_raw  channel_id
mz_message_counts_received_raw  from_worker_id
mz_message_counts_received_raw  to_worker_id
mz_message_counts_sent_raw  channel_id
mz_message_counts_sent_raw  from_worker_id
mz_message_counts_sent_raw  to_worker_id
mz_notices  action
mz_notices  action_type
mz_notices  created_at
mz_notices  hint
mz_notices  id
mz_notices  message
mz_notices  notice_type
mz_notices  object_id
mz_notices  redacted_action
mz_notices  redacted_hint
mz_notices  redacted_message
mz_object_dependencies  object_id
mz_object_dependencies  referenced_object_id
mz_object_lifetimes  event_type
mz_object_lifetimes  id
mz_object_lifetimes  object_type
mz_object_lifetimes  occurred_at
mz_object_lifetimes  previous_id
mz_object_transitive_dependencies  object_id
mz_object_transitive_dependencies  referenced_object_id
mz_objects  id
mz_objects  name
mz_objects  oid
mz_objects  owner_id
mz_objects  privileges
mz_objects  schema_id
mz_objects  type
mz_optimizer_notices  action
mz_optimizer_notices  action_type
mz_optimizer_notices  created_at
mz_optimizer_notices  dependency_ids
mz_optimizer_notices  hint
mz_optimizer_notices  id
mz_optimizer_notices  message
mz_optimizer_notices  notice_type
mz_optimizer_notices  object_id
mz_optimizer_notices  redacted_action
mz_optimizer_notices  redacted_hint
mz_optimizer_notices  redacted_message
mz_peek_durations_histogram_raw  duration_ns
mz_peek_durations_histogram_raw  type
mz_peek_durations_histogram_raw  worker_id
mz_prepared_statement_history  id
mz_prepared_statement_history  name
mz_prepared_statement_history  prepared_at
mz_prepared_statement_history  session_id
mz_prepared_statement_history  sql_hash
mz_prepared_statement_history  statement_type
mz_prepared_statement_history  throttled_count
mz_recent_activity_log_thinned  application_name
mz_recent_activity_log_thinned  authenticated_user
mz_recent_activity_log_thinned  began_at
mz_recent_activity_log_thinned  cluster_id
mz_recent_activity_log_thinned  cluster_name
mz_recent_activity_log_thinned  error_message
mz_recent_activity_log_thinned  execution_id
mz_recent_activity_log_thinned  execution_strategy
mz_recent_activity_log_thinned  execution_timestamp
mz_recent_activity_log_thinned  finished_at
mz_recent_activity_log_thinned  finished_status
mz_recent_activity_log_thinned  initial_application_name
mz_recent_activity_log_thinned  mz_version
mz_recent_activity_log_thinned  params
mz_recent_activity_log_thinned  prepared_at
mz_recent_activity_log_thinned  prepared_statement_id
mz_recent_activity_log_thinned  prepared_statement_name
mz_recent_activity_log_thinned  rows_returned
mz_recent_activity_log_thinned  sample_rate
mz_recent_activity_log_thinned  session_id
mz_recent_activity_log_thinned  sql_hash
mz_recent_activity_log_thinned  statement_type
mz_recent_activity_log_thinned  throttled_count
mz_recent_activity_log_thinned  transaction_id
mz_recent_activity_log_thinned  transaction_isolation
mz_recent_activity_log_thinned  transient_index_id
mz_recent_sql_text  redacted_sql
mz_recent_sql_text  sql
mz_recent_sql_text  sql_hash
mz_relations  id
mz_relations  name
mz_relations  oid
mz_relations  owner_id
mz_relations  privileges
mz_relations  schema_id
mz_relations  type
mz_roles  id
mz_roles  inherit
mz_roles  name
mz_roles  oid
mz_scheduling_elapsed_raw  id
mz_scheduling_elapsed_raw  worker_id
mz_scheduling_parks_histogram_raw  requested_ns
mz_scheduling_parks_histogram_raw  slept_for_ns
mz_scheduling_parks_histogram_raw  worker_id
mz_schemas  database_id
mz_schemas  id
mz_schemas  name
mz_schemas  oid
mz_schemas  owner_id
mz_schemas  privileges
mz_secrets  id
mz_secrets  name
mz_secrets  oid
mz_secrets  owner_id
mz_secrets  privileges
mz_secrets  schema_id
mz_session_history  authenticated_user
mz_session_history  connected_at
mz_session_history  id
mz_session_history  initial_application_name
mz_show_cluster_replicas  cluster
mz_show_cluster_replicas  ready
mz_show_cluster_replicas  replica
mz_show_cluster_replicas  size
mz_show_indexes  cluster
mz_show_indexes  cluster_id
mz_show_indexes  key
mz_show_indexes  name
mz_show_indexes  on
mz_show_indexes  on_id
mz_show_indexes  schema_id
mz_show_materialized_views  cluster
mz_show_materialized_views  cluster_id
mz_show_materialized_views  name
mz_show_materialized_views  schema_id
mz_show_sinks  cluster
mz_show_sinks  cluster_id
mz_show_sinks  name
mz_show_sinks  schema_id
mz_show_sinks  size
mz_show_sinks  type
mz_show_sources  cluster
mz_show_sources  cluster_id
mz_show_sources  name
mz_show_sources  schema_id
mz_show_sources  size
mz_show_sources  type
mz_sink_statistics  bytes_committed
mz_sink_statistics  bytes_staged
mz_sink_statistics  id
mz_sink_statistics  messages_committed
mz_sink_statistics  messages_staged
mz_sink_statistics_raw  bytes_committed
mz_sink_statistics_raw  bytes_staged
mz_sink_statistics_raw  id
mz_sink_statistics_raw  messages_committed
mz_sink_statistics_raw  messages_staged
mz_sink_status_history  details
mz_sink_status_history  error
mz_sink_status_history  occurred_at
mz_sink_status_history  sink_id
mz_sink_status_history  status
mz_sink_statuses  details
mz_sink_statuses  error
mz_sink_statuses  id
mz_sink_statuses  last_status_change_at
mz_sink_statuses  name
mz_sink_statuses  status
mz_sink_statuses  type
mz_sinks  cluster_id
mz_sinks  connection_id
mz_sinks  create_sql
mz_sinks  envelope_type
mz_sinks  format
mz_sinks  id
mz_sinks  name
mz_sinks  oid
mz_sinks  owner_id
mz_sinks  redacted_create_sql
mz_sinks  schema_id
mz_sinks  size
mz_sinks  type
mz_source_statistics  bytes_indexed
mz_source_statistics  bytes_received
mz_source_statistics  id
mz_source_statistics  messages_received
mz_source_statistics  offset_committed
mz_source_statistics  offset_known
mz_source_statistics  records_indexed
mz_source_statistics  rehydration_latency
mz_source_statistics  snapshot_committed
mz_source_statistics  snapshot_records_known
mz_source_statistics  snapshot_records_staged
mz_source_statistics  updates_committed
mz_source_statistics  updates_staged
mz_source_statistics_raw  bytes_indexed
mz_source_statistics_raw  bytes_received
mz_source_statistics_raw  id
mz_source_statistics_raw  messages_received
mz_source_statistics_raw  offset_committed
mz_source_statistics_raw  offset_known
mz_source_statistics_raw  records_indexed
mz_source_statistics_raw  rehydration_latency
mz_source_statistics_raw  snapshot_committed
mz_source_statistics_raw  snapshot_records_known
mz_source_statistics_raw  snapshot_records_staged
mz_source_statistics_raw  updates_committed
mz_source_statistics_raw  updates_staged
mz_source_status_history  details
mz_source_status_history  error
mz_source_status_history  occurred_at
mz_source_status_history  source_id
mz_source_status_history  status
mz_source_statuses  details
mz_source_statuses  error
mz_source_statuses  id
mz_source_statuses  last_status_change_at
mz_source_statuses  name
mz_source_statuses  status
mz_source_statuses  type
mz_sources  cluster_id
mz_sources  connection_id
mz_sources  create_sql
mz_sources  envelope_type
mz_sources  id
mz_sources  key_format
mz_sources  name
mz_sources  oid
mz_sources  owner_id
mz_sources  privileges
mz_sources  redacted_create_sql
mz_sources  schema_id
mz_sources  size
mz_sources  type
mz_sources  value_format
mz_sql_text  prepared_day
mz_sql_text  redacted_sql
mz_sql_text  sql
mz_sql_text  sql_hash
mz_statement_execution_history  application_name
mz_statement_execution_history  began_at
mz_statement_execution_history  cluster_id
mz_statement_execution_history  cluster_name
mz_statement_execution_history  error_message
mz_statement_execution_history  execution_strategy
mz_statement_execution_history  execution_timestamp
mz_statement_execution_history  finished_at
mz_statement_execution_history  finished_status
mz_statement_execution_history  id
mz_statement_execution_history  mz_version
mz_statement_execution_history  params
mz_statement_execution_history  prepared_statement_id
mz_statement_execution_history  rows_returned
mz_statement_execution_history  sample_rate
mz_statement_execution_history  transaction_id
mz_statement_execution_history  transaction_isolation
mz_statement_execution_history  transient_index_id
mz_tables  create_sql
mz_tables  id
mz_tables  name
mz_tables  oid
mz_tables  owner_id
mz_tables  privileges
mz_tables  redacted_create_sql
mz_tables  schema_id
mz_types  category
mz_types  create_sql
mz_types  id
mz_types  name
mz_types  oid
mz_types  owner_id
mz_types  privileges
mz_types  redacted_create_sql
mz_types  schema_id
mz_views  create_sql
mz_views  definition
mz_views  id
mz_views  name
mz_views  oid
mz_views  owner_id
mz_views  privileges
mz_views  redacted_create_sql
mz_views  schema_id
