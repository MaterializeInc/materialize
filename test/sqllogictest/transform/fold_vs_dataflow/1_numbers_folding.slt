mode cockroach

# -------------------------------
# very small numbers
# -------------------------------

statement ok
CREATE OR REPLACE VIEW v_using_constant_folding (real1, double1, numeric1) AS
SELECT
 1e-39::real, 1e-39::double, 1e-39::numeric;

query RRR
SELECT * FROM v_using_constant_folding
UNION ALL
SELECT SUM(real1), SUM(double1), SUM(numeric1)
FROM v_using_constant_folding;
----
0.000000000000000000000000000000000000001 0.000000000000000000000000000000000000001 0.000000000000000000000000000000000000001
0.000000000000000000000000000000000000001 0.000000000000000000000000000000000000001 0.000000000000000000000000000000000000001

query T multiline
EXPLAIN SELECT * FROM v_using_constant_folding;
----
Explained Query (fast path):
  Constant
    - (0.000000000000000000000000000000000000001, 0.000000000000000000000000000000000000001, 0.000000000000000000000000000000000000001)

EOF

# -------------------------------
# very big numbers
# -------------------------------

statement ok
CREATE OR REPLACE VIEW v_using_constant_folding (real1, double1, numeric1) AS
SELECT
 1e38::real, 1e38::double, 1e38::numeric;

query RRR
SELECT * FROM v_using_constant_folding
UNION ALL
SELECT SUM(real1), SUM(double1), SUM(numeric1)
FROM v_using_constant_folding;
----
100000000000000000000000000000000000000 100000000000000000000000000000000000000 100000000000000000000000000000000000000
100000000000000000000000000000000000000 100000000000000000000000000000000000000 100000000000000000000000000000000000000

query T multiline
EXPLAIN SELECT * FROM v_using_constant_folding;
----
Explained Query (fast path):
  Constant
    - (100000000000000000000000000000000000000, 100000000000000000000000000000000000000, 100000000000000000000000000000000000000)

EOF
